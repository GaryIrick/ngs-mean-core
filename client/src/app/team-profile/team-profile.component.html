<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div>
                <div class="row" *ngIf="auth.getUser() === returnedProfile.captain">
                    <div class="col-8 offset-2">
                        <div class="row mt-3">
                            <div class="col-8">
                                Welcome to your team profile!
                            </div>
                            <div class="col-4">
                                <div *ngIf="editOn == true">
                                    <button type="button" (click)="openEdit()" class="btn btn-primary float-right">Edit</button>
                                </div>
                                <div class="row" *ngIf="!editOn">
                                    <div class="col">
                                        <button type="button" (click)="save()" class="btn btn-success ">Save</button>
                                    </div>
                                    <div class="col">
                                        <button type="button" (click)="cancel()" class="btn btn-danger">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-5">
                        <app-image-upload [showEdit]="auth.getUser()===returnedProfile.captain" [teamName]="returnedProfile.teamName" [teamLogo]="returnedProfile.logo"></app-image-upload>
                    </div>
                    <div class="col-7">
                        <mat-form-field class="tp-FullWidth">
                            <input matInput placeholder="Team Name" [(ngModel)]="returnedProfile.teamName" disabled="true">
                        </mat-form-field>
                        <mat-form-field class="tp-FullWidth">
                            <input matInput placeholder="Team Divison" [(ngModel)]="displayDivison" disabled="true">
                        </mat-form-field>
                        <mat-form-field class="tp-FullWidth">
                            <input matInput placeholder="Team MMR Average" [(ngModel)]="returnedProfile.teamMMRAvg" disabled="true">
                        </mat-form-field>
                        <mat-slide-toggle disabled="{{editOn}}" [(ngModel)]="returnedProfile.lookingForMore">
                            Looking for More.
                        </mat-slide-toggle>
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col">
                        <span>Team Members:</span>
                    </div>
                </div>
                <!-- add team member -->
                <div class="row mt-3" *ngIf="!editOn">
                    <div class="col">
                        <h3>Invite users to your team!</h3>
                        <mat-accordion>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        Existing User:
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        Search if user is a member of NGS all ready.
                                    </mat-panel-description>
                                </mat-expansion-panel-header>

                                <app-user-search [passedTeam]="returnedProfile.teamName" [filterUser]="filterUsers"></app-user-search>

                            </mat-expansion-panel>

                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        New User:
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        Invite a user to join NGS!
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <mat-form-field>
                                    <input matInput placeholder="Enter users email to send them an invite to NGS!">
                                </mat-form-field>
                                <button type="button">Invite!</button>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                </div>

                <!-- team members list -->
                <div class="row mt-3" *ngFor="let player of returnedProfile.teamMembers">
                    <div class="col">
                        <mat-form-field class="tp-FullWidth">
                            <input matInput placeholder="Player Name" value={{player.displayName}} disabled="true">
                        </mat-form-field>
                    </div>
                </div>
                <!--  -->
                <!-- <div class="row mt-3">
                    <div class="col">

                    </div>
                </div> -->

                <mat-form-field class="tp-FullWidth">
                    <mat-select placeholder="Team Competitive Level" disabled="{{editOn}}" [(ngModel)]="returnedProfile.lfmDetails.competitiveLevel">
                        <mat-option *ngFor="let level of competitonLevel" [value]="level.val">
                            {{level.display}}
                        </mat-option>
                    </mat-select>
                    <mat-hint align="start"><strong>Generally how serious / competitively you're looking to play</strong> </mat-hint>
                </mat-form-field>

                <!-- <div class="row mt-2">
                    <div class="col"> -->
                <mat-form-field class="tp-FullWidth">
                    <mat-label>Describe the teams play history / style</mat-label>
                    <textarea matInput cdkTextareaAutosize [(ngModel)]="returnedProfile.lfmDetails.descriptionOfTeam" disabled="{{editOn}}"></textarea>
                </mat-form-field>
                <!-- </div>
                </div> -->
                <div class="row mt-3">
                    <div class="col">
                        Roles the team needs:
                        <section>
                            <mat-checkbox class="role-margin" [(ngModel)]="returnedProfile.lfmDetails.rolesNeeded.tank" disabled="{{editOn}}">Tank</mat-checkbox>
                            <mat-checkbox class="role-margin" [(ngModel)]="returnedProfile.lfmDetails.rolesNeeded.offlane" disabled="{{editOn}}">Offlane</mat-checkbox>
                            <mat-checkbox class="role-margin" [(ngModel)]="returnedProfile.lfmDetails.rolesNeeded.assassin" disabled="{{editOn}}">Assassin</mat-checkbox>
                            <mat-checkbox class="role-margin" [(ngModel)]="returnedProfile.lfmDetails.rolesNeeded.support" disabled="{{editOn}}">Support</mat-checkbox>
                            <mat-checkbox class="role-margin" [(ngModel)]="returnedProfile.lfmDetails.rolesNeeded.specialist" disabled="{{editOn}}">Specialist</mat-checkbox>
                        </section>
                    </div>
                </div>
                <!-- Availability Schedule -->
                <div class="row mt-3">
                    <div class="col">
                        Times the team plays or practices:
                    </div>
                </div>
                <div class="row mt-3" [hidden]="hideDay(editOn,returnedProfile.lfmDetails.availability.monday.available)">
                    <div class="col">
                        <mat-checkbox [(ngModel)]="returnedProfile.lfmDetails.availability.monday.available" disabled="{{editOn}}">Monday</mat-checkbox>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.monday.startTime" placeholder="Start Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput [(ngModel)]="returnedProfile.lfmDetails.availability.monday.endTime" type="time" placeholder="End Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row" [hidden]="hideDay(editOn,returnedProfile.lfmDetails.availability.tuesday.available)">
                    <div class="col">
                        <mat-checkbox class="" [(ngModel)]="returnedProfile.lfmDetails.availability.tuesday.available" disabled="{{editOn}}">Tuesday</mat-checkbox>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.tuesday.startTime" placeholder="Start Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.tuesday.endTime" placeholder="End Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row" [hidden]="hideDay(editOn,returnedProfile.lfmDetails.availability.wednesday.available)">
                    <div class="col">
                        <mat-checkbox class="" [(ngModel)]="returnedProfile.lfmDetails.availability.wednesday.available" disabled="{{editOn}}">Wednesday</mat-checkbox>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.wednesday.startTime" placeholder="Start Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.wednesday.endTime" placeholder="End Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row" [hidden]="hideDay(editOn,returnedProfile.lfmDetails.availability.thursday.available)">
                    <div class="col">
                        <mat-checkbox class="" [(ngModel)]="returnedProfile.lfmDetails.availability.thursday.available" disabled="{{editOn}}">Thursday</mat-checkbox>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.thursday.startTime" placeholder="Start Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.thursday.endTime" placeholder="End Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row" [hidden]="hideDay(editOn,returnedProfile.lfmDetails.availability.friday.available)">
                    <div class="col">
                        <mat-checkbox class="" [(ngModel)]="returnedProfile.lfmDetails.availability.friday.available" disabled="{{editOn}}">Friday</mat-checkbox>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.friday.startTime" placeholder="Start Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.friday.endTime" placeholder="End Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row" [hidden]="hideDay(editOn,returnedProfile.lfmDetails.availability.saturday.available)">
                    <div class="col">
                        <mat-checkbox class="" [(ngModel)]="returnedProfile.lfmDetails.availability.saturday.available" disabled="{{editOn}}">Saturday</mat-checkbox>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.saturday.startTime" placeholder="Start Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.saturday.endTime" placeholder="End Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row" [hidden]="hideDay(editOn,returnedProfile.lfmDetails.availability.sunday.available)">
                    <div class="col">
                        <mat-checkbox class="" [(ngModel)]="returnedProfile.lfmDetails.availability.sunday.available" disabled="{{editOn}}">Sunday</mat-checkbox>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.sunday.startTime" placeholder="Start Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <input matInput type="time" [(ngModel)]="returnedProfile.lfmDetails.availability.sunday.endTime" placeholder="End Time" disabled="{{editOn}}">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col">
                        <mat-form-field class="tp-FullWidth">
                            <mat-select placeholder="Timezone:" [(ngModel)]="returnedProfile.lfmDetails.timeZone">
                                <mat-option *ngFor="let zone of timezone.timezones" [value]="zone.value" disabled="{{editOn}}">
                                    {{zone.text}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>